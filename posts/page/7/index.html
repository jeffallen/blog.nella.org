<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Posts | jra&#39;s thoughts</title>
<meta name="keywords" content="">
<meta name="description" content="Posts - jra&#39;s thoughts">
<meta name="author" content="">
<link rel="canonical" href="https://blog.nella.org/posts/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.3beea2776320e39a6c8d0589cd10cf4cbbbe3ca9b6f0363cfeef1417ed39a195.css" integrity="sha256-O&#43;6id2Mg45psjQWJzRDPTLu&#43;PKm28DY8/u8UF&#43;05oZU=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://blog.nella.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://blog.nella.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://blog.nella.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://blog.nella.org/apple-touch-icon.png">
<link rel="mask-icon" href="https://blog.nella.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://blog.nella.org/posts/feed.xml">
<link rel="alternate" hreflang="en" href="https://blog.nella.org/posts/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Lexend&display=swap" rel="stylesheet">
<meta property="og:url" content="https://blog.nella.org/posts/">
  <meta property="og:site_name" content="jra&#39;s thoughts">
  <meta property="og:title" content="Posts">
  <meta property="og:locale" content="en-US">
  <meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Posts">
<meta name="twitter:description" content="">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://blog.nella.org/posts/"
    }
  ]
}
</script>
</head>

<body class="list" id="top">
<script>
    if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://blog.nella.org/" accesskey="h" title="jra&#39;s thoughts (Alt + H)">jra&#39;s thoughts</a>
            <div class="logo-switches">
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://blog.nella.org/">Home</a></div>
  <h1>
    Posts
  </h1>
</header>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Two more stories
    </h2>
  </header>
  <div class="entry-content">
    <p>Here’s two stories that worked their charm on a not-very-sleepy little boy, turning him into a sleepy one.
Bep and the Giant Pumpkin: It is October, the official start of pumpkin season in our house. That means it is time to start talking about pumpkins and where we get them. So mommy, daddy, Elio and Emma got in Bep and went for a drive. They drove up up up to the top of Lausanne and then up up up to Mont sur Lausanne, then up up up more to the little self-service vegetable stand above it. Everyone went in and chose their pumpkins one by one. Emma got a little pumpkin because she needed to hold it between her feet in her maxi-cosi. Elio got a bigger pumpkin because he’s strong (Elio e forte!). Mami chose a good pumpkin for soup because she makes the best pumpkin soup. And daddy chose one to make a yummy pumpkin curry. Daddy was about to pay and go, but Elio asked, “What about Bep?” So they looked but none of the pumpkins were big enough for Bep. They went out back and found a perfect pumpkin, 1 meter across, 3.14 meters around and weighing 200 kg! They went to get Bep and asked, “can you carry it?” Bep said “beep beep vroom vroom, no problem” and drove the whole family home, each with their pumpkin on their lap (except mami, who was driving) and Bep with his pumpkin right in the middle.
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-10-03 19:07:13 +0000 +0000'>October 3, 2012</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;jra</footer>
  <a class="entry-link" aria-label="post link to Two more stories" href="https://blog.nella.org/2012/10/03/two-more-stories/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Once upon a time...
    </h2>
  </header>
  <div class="entry-content">
    <p>My son now needs a bedtime story, whispered in the dark, to go to sleep. My wife and I both love good story telling. She even took a course on it once, and told a story to an audience as the final project. We go to le Nuit des Contes every year here in Lausanne, and I’ve picked up some tips from watching the (literally) professionals there. A key to oral story telling, certainly for small children, is to use a structure with repeating sounds and phrases that they can get wrapped up in.
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-09-10 23:04:57 +0000 +0000'>September 10, 2012</span>&nbsp;·&nbsp;6 min&nbsp;·&nbsp;jra</footer>
  <a class="entry-link" aria-label="post link to Once upon a time..." href="https://blog.nella.org/2012/09/10/once-upon-a-time/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Zero Downtime upgrades of TCP servers in Go
    </h2>
  </header>
  <div class="entry-content">
    <p>A recent post on the golang-nuts mailing list mentioned that Nginx can upgrade on the fly without ever stopping listening to it’s listen socket. The trick is to unset close-on-exec on the listen socket, then fork/exec a new copy of the server (on the upgraded binary) with an argument to tell it to use the inherited file descriptor instead of calling socket() and listen(s).
I wanted to see if I could achieve the same thing with Go, and what changes would be necessary to the standard libraries to make this possible. I got it working, without changing the standard library, so I wanted to explain what I did here.
...</p>
  </div>
  <footer class="entry-footer"><span title='2012-05-29 12:09:16 +0000 +0000'>May 29, 2012</span>&nbsp;·&nbsp;5 min&nbsp;·&nbsp;jra</footer>
  <a class="entry-link" aria-label="post link to Zero Downtime upgrades of TCP servers in Go" href="https://blog.nella.org/2012/05/29/zero-downtime-upgrades-of-tcp-servers-in-go/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Testing Go&#39;s HTTP server for CVE-2011-3192 vulnerability
    </h2>
  </header>
  <div class="entry-content">
    <p>The recent DoS attack on Apache is caused by sending in a malformed Range header. I decided to send the same header into Go’s range header parser and see what happened. It passed with flying colors, giving the “invalid range” error, which would result in the Go webserver sending back HTTP response code 416 to the HTTP client.
I didn’t test this under load (which is part of what the DoS was doing), but my quick reading of parseRange leads me to believe that the only effect of sending Range headers in like this is that garbage is created under control of the attacker (for example, due to strings.Split(s[len(b):], “,”)). Of course, that’s bad and should be limited. However, this risk is no greater than other places in the server. For example an attacker could send an unlimited number of headers, or headers of unlimited length. This is already mentioned in the net/textproto package’s reader.go.
...</p>
  </div>
  <footer class="entry-footer"><span title='2011-09-15 07:53:45 +0000 +0000'>September 15, 2011</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;jra</footer>
  <a class="entry-link" aria-label="post link to Testing Go&#39;s HTTP server for CVE-2011-3192 vulnerability" href="https://blog.nella.org/2011/09/15/testing-gos-http-server-for-cve-2011-3192-vulnerability/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">I love my Chumby
    </h2>
  </header>
  <div class="entry-content">
    <p>I have been wanting a digital photo frame for a while, so I could see the same pictures I send to the other digital frames in my family. I post pictures of Elio to Picasaweb, and my family sees them via Toshiba digitical frames with built-in wireless and FrameChannel clients.
Here in Switzerland, the digital frames with wireless are super expensive, and don’t even have FrameChannel. Separately, I’ve always liked the Chumby, but considered it’s puny screen kind of pointless. I mean, what’s the point of a Linux machine with a 3 inch screen? If it’s not a phone, I mean. So when I saw the review of the new Chumby 8, I found the solution to my problem!
...</p>
  </div>
  <footer class="entry-footer"><span title='2011-04-20 20:45:03 +0000 +0000'>April 20, 2011</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;jra</footer>
  <a class="entry-link" aria-label="post link to I love my Chumby" href="https://blog.nella.org/2011/04/20/i-love-my-chumby/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">No IPv6 from CityCable of Lausanne
    </h2>
  </header>
  <div class="entry-content">
    <p>My home ISP is CityCable of Lausanne. While I have nothing bad to say about their IPv4 offering (fair price, good service, no noticable speed problems) I’ve got nothing good to say about their IPv6 service… because they don’t support it yet.
Shame on you CityCable. You should support IPv6: it’s not so hard, and it’s important to help your customers move forward, at least those of us who want to learn about native IPv6 connectivity before it becomes an emergency. Also, as a not-for-profit service of the city of Lausanne, it’s not like you can argue “there’s no business in it for us”. Part of your job is to enrich the city; that means leading instead of following on technology! Too bad you missed this chance.
...</p>
  </div>
  <footer class="entry-footer"><span title='2011-04-03 21:47:02 +0000 +0000'>April 3, 2011</span>&nbsp;·&nbsp;2 min&nbsp;·&nbsp;jra</footer>
  <a class="entry-link" aria-label="post link to No IPv6 from CityCable of Lausanne" href="https://blog.nella.org/2011/04/03/no-ipv6-from-citycable-of-lausanne/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">Now with IPv6!
    </h2>
  </header>
  <div class="entry-content">
    <p>I have been learning about IPv6 for work, and getting it turned on for home and for my server at nella.org. It’s been interesting, and a bit depressing just how hard it is to get people to do something that’s so easy…
Anyway, if your web browser is on IPv6, you’ll get a nifty ribbon on the upper right of the page of nella.org. Go give it a try! But don’t complain if you don’t see anything, it just means you are on IPv4, and that you live in the 20th century… you probably also have a bad haircut and a skinny leather tie like I was wearing at my 9th grade end of year school dance…
...</p>
  </div>
  <footer class="entry-footer"><span title='2011-03-26 13:22:34 +0000 +0000'>March 26, 2011</span>&nbsp;·&nbsp;1 min&nbsp;·&nbsp;jra</footer>
  <a class="entry-link" aria-label="post link to Now with IPv6!" href="https://blog.nella.org/2011/03/26/now-with-ipv6/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">A trip down the (split) rabbithole
    </h2>
  </header>
  <div class="entry-content">
    <p>Note: This post is out of date, and will become increasingly out of date when Go’s new contiguous stacks are implemented. I’m leaving it here because it is still interesting, even if out of date.
Go uses split stacks (also called segmented stacks in the literature) in order to allow thousands of stacks in the space that would normally be taken by hundreds of C-style contiguous stacks. There’s a discussion of how to add split stacks to GCC here. Note: it was written by the author of gccgo, around the time he started porting Go to Gcc, so it’s clear that he’s adding split stacks to Gcc to help Go. But if it’s helpful to C programmers as well, then so much the better!
...</p>
  </div>
  <footer class="entry-footer"><span title='2011-02-15 11:02:24 +0000 +0000'>February 15, 2011</span>&nbsp;·&nbsp;11 min&nbsp;·&nbsp;jra</footer>
  <a class="entry-link" aria-label="post link to A trip down the (split) rabbithole" href="https://blog.nella.org/2011/02/15/a-trip-down-the-split-rabbithole/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">How to control your HTTP transactions in Go
    </h2>
  </header>
  <div class="entry-content">
    <p>The Go http pacakge has http.Get and http.Post, which make it easy to do GET and POST operations. They are meant for client use. They implement things from the point of view of a naïve client, one that just wants to give a URL and get back the results. They don’t want to chase redirects, they don’t want to set their headers specially, they just want to, in one line, get the results.
...</p>
  </div>
  <footer class="entry-footer"><span title='2011-02-08 13:49:33 +0000 +0000'>February 8, 2011</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;jra</footer>
  <a class="entry-link" aria-label="post link to How to control your HTTP transactions in Go" href="https://blog.nella.org/2011/02/08/how-to-control-your-http-transactions-in-go/"></a>
</article>

<article class="post-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">A rate-limiting HTTP proxy in Go
    </h2>
  </header>
  <div class="entry-content">
    <p>Hello Go-fans. Missed a week due to a nice little ski vacation, but I promise I was dreaming of Go while riding the ski lifts, so I’ve got something interesting to share with you this week.
I’ve worked in Africa and Indonesia in the past. There, I saw first-hand the possibilities of the Internet, but also the difficulties of using it in remote areas, over slow links, etc. I came up with ideas years ago for what I’d like in a proxy in the field that would make the limited bandwidth on a satellite connection go further. I’ve never had a chance to implement it until now, because hacking on Squid or other proxies just involved too much C hacking and core dumping to suit my patience, especially for a prototype to test ideas on. But Go, on the other hand; it’s just made for playing with this kind of thing!
...</p>
  </div>
  <footer class="entry-footer"><span title='2011-02-07 21:27:25 +0000 +0000'>February 7, 2011</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;jra</footer>
  <a class="entry-link" aria-label="post link to A rate-limiting HTTP proxy in Go" href="https://blog.nella.org/2011/02/07/a-rate-limiting-http-proxy-in-go/"></a>
</article>
<footer class="page-footer">
  <nav class="pagination">
    <a class="prev" href="https://blog.nella.org/posts/page/6/">
      «&nbsp;Prev&nbsp;
    </a>
    <a class="next" href="https://blog.nella.org/posts/page/8/">Next&nbsp;&nbsp;»
    </a>
  </nav>
</footer>
    </main>
    
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
</body>

</html>
